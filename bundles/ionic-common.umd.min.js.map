{"version":3,"file":"ionic-common.umd.min.js","sources":["../../src/ionic/common/input-aria-label.ts","../../src/ionic/common/common-module.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterViewInit, Directive, ElementRef, Input, Host, OnDestroy, Optional, Renderer2\n} from '@angular/core';\n\nimport {Subscription} from 'rxjs';\n\nimport {IonInput} from '@ionic/angular';\n\n@Directive({selector: '[gngtInputAriaLabel]'})\nexport class InputAriaLabelDirective implements AfterViewInit, OnDestroy {\n  private _inputLoadSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    @Host() @Optional() private _input: IonInput,\n    private _el: ElementRef,\n    private _renderer: Renderer2\n  ) { }\n\n  private _gngtInputAriaLabel: string;\n  @Input('gngtInputAriaLabel') set gngtInputAriaLabel(gngtInputAriaLabel: string) {\n    this._gngtInputAriaLabel = gngtInputAriaLabel;\n    this._updateLabel();\n  }\n\n  ngAfterViewInit(): void {\n    this._updateLabel();\n  }\n\n  ngOnDestroy(): void {\n    this._inputLoadSub.unsubscribe();\n  }\n\n  private _updateLabel(): void {\n    if (this._input && this._el) {\n      const el = this._el.nativeElement as HTMLElement;\n      if (el) {\n        this._setLabelOnChildren(el.getElementsByTagName('input'));\n\n        if (el.shadowRoot) {\n          this._setLabelOnChildren(el.shadowRoot.querySelectorAll('input'));\n        }\n      }\n    }\n  }\n\n  private _setLabelOnChildren(\n    inputs: HTMLCollectionOf<HTMLInputElement> | NodeListOf<HTMLInputElement>\n  ): void {\n    const inputsNum = inputs.length;\n    for (let i = 0 ; i < inputsNum ; i++) {\n      const input = inputs.item(i);\n      if (input) {\n        this._setLabel(input);\n      }\n    }\n  }\n\n  private _setLabel(el: HTMLInputElement): void {\n    this._renderer.setAttribute(el, 'aria-label', this._gngtInputAriaLabel);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {InputAriaLabelDirective} from './input-aria-label';\n\n@NgModule({\n  declarations: [\n    InputAriaLabelDirective,\n  ],\n  exports: [\n    InputAriaLabelDirective,\n  ]\n})\nexport class CommonModule { }\n"],"names":["InputAriaLabelDirective","Object","defineProperty","prototype","gngtInputAriaLabel","this","_gngtInputAriaLabel","_updateLabel","ngAfterViewInit","ngOnDestroy","_inputLoadSub","unsubscribe","_input","_el","el","_setLabelOnChildren","getElementsByTagName","shadowRoot","querySelectorAll","inputs","inputsNum","length","i","input","item","_setLabel","_renderer","setAttribute","type","Directive","args","selector","IonInput","decorators","Host","Optional","ElementRef","Renderer2","Input","Subscription","EMPTY","CommonModule","NgModule","declarations","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;uaA6BA,IAAAA,GAWEC,OAAFC,eAAmCF,EAAnCG,UAAA,qBAAA,KAAE,SAAoDC,GAClDC,KAAKC,oBAAsBF,EAC3BC,KAAKE,gDAGPP,EAAFG,UAAAK,gBAAE,WACEH,KAAKE,gBAGPP,EAAFG,UAAAM,YAAE,WACEJ,KAAKK,cAAcC,eAGbX,EAAVG,UAAAI,aAAE,WACE,GAAIF,KAAKO,QAAUP,KAAKQ,IAAK,CACjC,IAAYC,EAAKT,KAAKQ,IAAtB,cACUC,IACFT,KAAKU,oBAAoBD,EAAGE,qBAAqB,UAE7CF,EAAGG,YACLZ,KAAKU,oBAAoBD,EAAGG,WAAWC,iBAAiB,aAMxDlB,EAAVG,UAAAY,oBAAE,SACEI,GAGA,IADJ,IAAUC,EAAYD,EAAOE,OAChBC,EAAI,EAAIA,EAAIF,EAAYE,IAAK,CAC1C,IAAYC,EAAQJ,EAAOK,KAAKF,GACtBC,GACFlB,KAAKoB,UAAUF,KAKbvB,EAAVG,UAAAsB,UAAE,SAAkBX,GAChBT,KAAKqB,UAAUC,aAAab,EAAI,aAAcT,KAAKC,oCAlDvD,CAAAsB,KAACC,EAADA,UAAAC,KAAA,CAAW,CAACC,SAAU,8DAFtB,CAAAH,KAAQI,EAARA,SAAAC,WAAA,CAAA,CAAAL,KAOKM,EAPLA,MAAA,CAAAN,KAOaO,EAPbA,YALA,CAAAP,KAA4BQ,EAA5BA,YAAA,CAAAR,KAA0ES,EAA1EA,+BAkBAjC,mBAAA,CAAA,CAAAwB,KAAGU,EAAHA,MAAAR,KAAA,CAAS,yBAyCT9B,GAhDE,SAAFA,EACgCY,EACpBC,EACAa,GAFoBrB,KAAhCO,OAAgCA,EACpBP,KAAZQ,IAAYA,EACAR,KAAZqB,UAAYA,EALFrB,KAAVK,cAAwC6B,EAAxCA,aAAqDC,MCNrD,IAAAC,iBAAA,CAAAb,KAACc,EAADA,SAAAZ,KAAA,CAAU,CACRa,aAAc,CACZ3C,GAEF4C,QAAS,CACP5C,OAGJyC,GARA,SAAAA"}