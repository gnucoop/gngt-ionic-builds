{"version":3,"file":"ionic-common.umd.min.js","sources":["../../src/ionic/common/input-aria-label.ts","../../src/ionic/common/common-module.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterViewInit, Directive, ElementRef, Input, Host, OnDestroy, Optional, Renderer2\n} from '@angular/core';\n\nimport {Subscription} from 'rxjs';\n\nimport {IonInput} from '@ionic/angular';\n\n@Directive({selector: '[gngtInputAriaLabel]'})\nexport class InputAriaLabelDirective implements AfterViewInit, OnDestroy {\n  private _inputLoadSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    @Host() @Optional() private _input: IonInput,\n    private _el: ElementRef,\n    private _renderer: Renderer2\n  ) { }\n\n  private _gngtInputAriaLabel: string;\n  @Input('gngtInputAriaLabel') set gngtInputAriaLabel(gngtInputAriaLabel: string) {\n    this._gngtInputAriaLabel = gngtInputAriaLabel;\n    this._updateLabel();\n  }\n\n  ngAfterViewInit(): void {\n    this._updateLabel();\n  }\n\n  ngOnDestroy(): void {\n    this._inputLoadSub.unsubscribe();\n  }\n\n  private _updateLabel(): void {\n    if (this._input && this._el) {\n      const el = this._el.nativeElement as HTMLElement;\n      if (el) {\n        this._setLabelOnChildren(el.getElementsByTagName('input'));\n\n        if (el.shadowRoot) {\n          this._setLabelOnChildren(el.shadowRoot.querySelectorAll('input'));\n        }\n      }\n    }\n  }\n\n  private _setLabelOnChildren(\n    inputs: HTMLCollectionOf<HTMLInputElement> | NodeListOf<HTMLInputElement>\n  ): void {\n    const inputsNum = inputs.length;\n    for (let i = 0 ; i < inputsNum ; i++) {\n      const input = inputs.item(i);\n      if (input) {\n        this._setLabel(input);\n      }\n    }\n  }\n\n  private _setLabel(el: HTMLInputElement): void {\n    this._renderer.setAttribute(el, 'aria-label', this._gngtInputAriaLabel);\n  }\n}\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {InputAriaLabelDirective} from './input-aria-label';\n\n@NgModule({\n  declarations: [\n    InputAriaLabelDirective,\n  ],\n  exports: [\n    InputAriaLabelDirective,\n  ]\n})\nexport class CommonModule { }\n"],"names":["InputAriaLabelDirective","_input","_el","_renderer","this","_inputLoadSub","Subscription","EMPTY","Object","defineProperty","prototype","gngtInputAriaLabel","_gngtInputAriaLabel","_updateLabel","ngAfterViewInit","ngOnDestroy","unsubscribe","el","_setLabelOnChildren","getElementsByTagName","shadowRoot","querySelectorAll","inputs","inputsNum","length","i","input","item","_setLabel","setAttribute","type","Directive","args","selector","IonInput","decorators","Host","Optional","ElementRef","Renderer2","Input","CommonModule","NgModule","declarations","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;4aA6BA,IAAAA,EAAA,WAIE,SAAFA,EACgCC,EACpBC,EACAC,GAFoBC,KAAhCH,OAAgCA,EACpBG,KAAZF,IAAYA,EACAE,KAAZD,UAAYA,EALFC,KAAVC,cAAwCC,EAAxCA,aAAqDC,MAkDrD,OAzCEC,OAAFC,eAAmCT,EAAnCU,UAAA,qBAAA,KAAE,SAAoDC,GAClDP,KAAKQ,oBAAsBD,EAC3BP,KAAKS,gDAGPb,EAAFU,UAAAI,gBAAE,WACEV,KAAKS,gBAGPb,EAAFU,UAAAK,YAAE,WACEX,KAAKC,cAAcW,eAGbhB,EAAVU,UAAAG,aAAE,WACE,GAAIT,KAAKH,QAAUG,KAAKF,IAAK,CACjC,IAAYe,EAAKb,KAAKF,IAAtB,cACUe,IACFb,KAAKc,oBAAoBD,EAAGE,qBAAqB,UAE7CF,EAAGG,YACLhB,KAAKc,oBAAoBD,EAAGG,WAAWC,iBAAiB,aAMxDrB,EAAVU,UAAAQ,oBAAE,SACEI,GAGA,IADJ,IAAUC,EAAYD,EAAOE,OAChBC,EAAI,EAAIA,EAAIF,EAAYE,IAAK,CAC1C,IAAYC,EAAQJ,EAAOK,KAAKF,GACtBC,GACFtB,KAAKwB,UAAUF,KAKb1B,EAAVU,UAAAkB,UAAE,SAAkBX,GAChBb,KAAKD,UAAU0B,aAAaZ,EAAI,aAAcb,KAAKQ,oCAlDvD,CAAAkB,KAACC,EAADA,UAAAC,KAAA,CAAW,CAACC,SAAU,8DAFtB,CAAAH,KAAQI,EAARA,SAAAC,WAAA,CAAA,CAAAL,KAOKM,EAPLA,MAAA,CAAAN,KAOaO,EAPbA,YALA,CAAAP,KAA4BQ,EAA5BA,YAAA,CAAAR,KAA0ES,EAA1EA,+BAkBA5B,mBAAA,CAAA,CAAAmB,KAAGU,EAAHA,MAAAR,KAAA,CAAS,yBAyCThC,EApDA,GCJAyC,EAAA,WAAA,SAAAA,KAQ4B,qBAR5B,CAAAX,KAACY,EAADA,SAAAV,KAAA,CAAU,CACRW,aAAc,CACZ3C,GAEF4C,QAAS,CACP5C,OAGJyC,EARA"}