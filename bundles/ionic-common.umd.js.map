{"version":3,"file":"ionic-common.umd.js","sources":["../../../../../src/ionic/common/input-aria-label.ts","../../../../../src/ionic/common/common-module.ts","../../../../../src/ionic/common/public-api.ts","../../../../../src/ionic/common/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  Host,\n  Input,\n  OnDestroy,\n  Optional,\n  Renderer2\n} from '@angular/core';\nimport {IonInput} from '@ionic/angular';\nimport {Subscription} from 'rxjs';\n\n@Directive({selector: '[gngtInputAriaLabel]'})\nexport class InputAriaLabelDirective implements AfterViewInit, OnDestroy {\n  private _inputLoadSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n      @Host() @Optional() private _input: IonInput, private _el: ElementRef,\n      private _renderer: Renderer2) {}\n\n  private _gngtInputAriaLabel: string;\n  @Input('gngtInputAriaLabel')\n  set gngtInputAriaLabel(gngtInputAriaLabel: string) {\n    this._gngtInputAriaLabel = gngtInputAriaLabel;\n    this._updateLabel();\n  }\n\n  ngAfterViewInit(): void {\n    this._updateLabel();\n  }\n\n  ngOnDestroy(): void {\n    this._inputLoadSub.unsubscribe();\n  }\n\n  private _updateLabel(): void {\n    if (this._input && this._el) {\n      const el = this._el.nativeElement as HTMLElement;\n      if (el) {\n        this._setLabelOnChildren(el.getElementsByTagName('input'));\n\n        if (el.shadowRoot) {\n          this._setLabelOnChildren(el.shadowRoot.querySelectorAll('input'));\n        }\n      }\n    }\n  }\n\n  private _setLabelOnChildren(inputs: HTMLCollectionOf<HTMLInputElement>|\n                              NodeListOf<HTMLInputElement>): void {\n    const inputsNum = inputs.length;\n    for (let i = 0; i < inputsNum; i++) {\n      const input = inputs.item(i);\n      if (input) {\n        this._setLabel(input);\n      }\n    }\n  }\n\n  private _setLabel(el: HTMLInputElement): void {\n    this._renderer.setAttribute(el, 'aria-label', this._gngtInputAriaLabel);\n  }\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {InputAriaLabelDirective} from './input-aria-label';\n\n@NgModule({\n  declarations: [\n    InputAriaLabelDirective,\n  ],\n  exports: [\n    InputAriaLabelDirective,\n  ]\n})\nexport class CommonModule {\n}\n","/**\n * @license\n * Copyright (C) Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nexport * from './common-module';\nexport * from './input-aria-label';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Subscription","Directive","IonInput","Host","Optional","ElementRef","Renderer2","Input","NgModule"],"mappings":";;;;;;IAAA;;;;;;;;;;;;;;;;;;;;;QAsCE,iCACgC,MAAgB,EAAU,GAAe,EAC7D,SAAoB;YADA,WAAM,GAAN,MAAM,CAAU;YAAU,QAAG,GAAH,GAAG,CAAY;YAC7D,cAAS,GAAT,SAAS,CAAW;YAJxB,kBAAa,GAAiBA,iBAAY,CAAC,KAAK,CAAC;SAIrB;QAGpC,sBACI,uDAAkB;iBADtB,UACuB,kBAA0B;gBAC/C,IAAI,CAAC,mBAAmB,GAAG,kBAAkB,CAAC;gBAC9C,IAAI,CAAC,YAAY,EAAE,CAAC;aACrB;;;WAAA;QAED,iDAAe,GAAf;YACE,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;QAED,6CAAW,GAAX;YACE,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;SAClC;QAEO,8CAAY,GAAZ;YACN,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,GAAG,EAAE;gBAC3B,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,aAA4B,CAAC;gBACjD,IAAI,EAAE,EAAE;oBACN,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;oBAE3D,IAAI,EAAE,CAAC,UAAU,EAAE;wBACjB,IAAI,CAAC,mBAAmB,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;qBACnE;iBACF;aACF;SACF;QAEO,qDAAmB,GAAnB,UAAoB,MAC4B;YACtD,IAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC;YAChC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;gBAClC,IAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,KAAK,EAAE;oBACT,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;iBACvB;aACF;SACF;QAEO,2CAAS,GAAT,UAAU,EAAoB;YACpC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;SACzE;;;;gBAjDFC,cAAS,SAAC,EAAC,QAAQ,EAAE,sBAAsB,EAAC;;;gBAHrCC,gBAAQ,uBAQTC,SAAI,YAAIC,aAAQ;gBAfrBC,eAAU;gBAKVC,cAAS;;;qCAcRC,UAAK,SAAC,oBAAoB;;;IC3C7B;;;;;;;;;;;;;;;;;;;;;QAiCA;;;;;gBARCC,aAAQ,SAAC;oBACR,YAAY,EAAE;wBACZ,uBAAuB;qBACxB;oBACD,OAAO,EAAE;wBACP,uBAAuB;qBACxB;iBACF;;;IChCD;;;;;;;;;;;;;;;;;;;;;ICAA;;;;;;;;;;;;;"}