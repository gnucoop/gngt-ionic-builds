{"version":3,"file":"ionic-common.umd.js","sources":["../../src/ionic/common/common-module.ts","../../src/ionic/common/input-aria-label.ts"],"sourcesContent":["/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {NgModule} from '@angular/core';\n\nimport {InputAriaLabelDirective} from './input-aria-label';\n\n@NgModule({\n  declarations: [\n    InputAriaLabelDirective,\n  ],\n  exports: [\n    InputAriaLabelDirective,\n  ]\n})\nexport class CommonModule { }\n","/**\n * @license\n * Copyright (C) 2018 Gnucoop soc. coop.\n *\n * This file is part of the Gnucoop Angular Toolkit (gngt).\n *\n * Gnucoop Angular Toolkit (gngt) is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Gnucoop Angular Toolkit (gngt) is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Gnucoop Angular Toolkit (gngt).  If not, see http://www.gnu.org/licenses/.\n *\n */\n\nimport {\n  AfterViewInit, Directive, ElementRef, Input, Host, OnDestroy, Optional, Renderer2\n} from '@angular/core';\n\nimport {Subscription} from 'rxjs';\n\nimport {IonInput} from '@ionic/angular';\n\n@Directive({selector: '[gngtInputAriaLabel]'})\nexport class InputAriaLabelDirective implements AfterViewInit, OnDestroy {\n  private _inputLoadSub: Subscription = Subscription.EMPTY;\n\n  constructor(\n    @Host() @Optional() private _input: IonInput,\n    private _el: ElementRef,\n    private _renderer: Renderer2\n  ) { }\n\n  private _gngtInputAriaLabel: string;\n  @Input('gngtInputAriaLabel') set gngtInputAriaLabel(gngtInputAriaLabel: string) {\n    this._gngtInputAriaLabel = gngtInputAriaLabel;\n    this._updateLabel();\n  }\n\n  ngAfterViewInit(): void {\n    this._updateLabel();\n  }\n\n  ngOnDestroy(): void {\n    this._inputLoadSub.unsubscribe();\n  }\n\n  private _updateLabel(): void {\n    if (this._input && this._el) {\n      const el = this._el.nativeElement as HTMLElement;\n      if (el) {\n        this._setLabelOnChildren(el.getElementsByTagName('input'));\n\n        if (el.shadowRoot) {\n          this._setLabelOnChildren(el.shadowRoot.querySelectorAll('input'));\n        }\n      }\n    }\n  }\n\n  private _setLabelOnChildren(\n    inputs: HTMLCollectionOf<HTMLInputElement> | NodeListOf<HTMLInputElement>\n  ): void {\n    const inputsNum = inputs.length;\n    for (let i = 0 ; i < inputsNum ; i++) {\n      const input = inputs.item(i);\n      if (input) {\n        this._setLabel(input);\n      }\n    }\n  }\n\n  private _setLabel(el: HTMLInputElement): void {\n    this._renderer.setAttribute(el, 'aria-label', this._gngtInputAriaLabel);\n  }\n}\n"],"names":["NgModule","Input","Renderer2","ElementRef","IonInput","Host","Optional","Directive","Subscription"],"mappings":"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"}